<!-- Component: Mambo Footer -->
<footer class="[ mambo-footer ]" data-color="cream-on-maroon-primary">
  <div class="[ container container-default ]">
    <ul class="[ list ]">
      {% for link in settings.secondaryNavLinks %}
        {% if link.enabled == true %}
          <li>
            <a aria-label="{{ link.title }}" class="[ mambo-anchor ]" href="{{ link.url }}">{{ link.title | safe }}</a>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
    <ul class="[ list social ]">
      <li>
        <a aria-label="DCDW Facebook Page" class="[ mambo-anchor ]" href="https://www.facebook.com/dcdesignweek/">{% include 'static/images/icons/facebook.svg' %}</a>
      </li>
      <li>
        <a aria-label="DCDW Github Page" class="[ mambo-anchor ]" href="https://github.com/AIGAdc/dcdesignweek.org">{% include 'static/images/icons/github.svg' %}</a>
      </li>
      <li>
        <a aria-label="DCDW Instagram Page" class="[ mambo-anchor ]" href="https://www.instagram.com/dcdesignweek/">{% include 'static/images/icons/instagram.svg' %}</a>
      </li>
      <li>
        <a aria-label="DCDW Twitter Page" class="[ mambo-anchor ]" href="https://www.twitter.com/dcdesignweek">{% include 'static/images/icons/twitter.svg' %}</a>
      </li>
    </ul>
    <p class="[ copyright ]">
      &copy; AIGA DC | 2016-2022 All Rights Reserved.
    </p>
  </div>
</footer>

{% if page.url == "/" %}
  <script>
    // Parallax Roots
    var scene = document.getElementById('scene');
    var parallaxInstance = new Parallax(scene);
  </script>
{% endif %}
<script>
  // Houdini: Committee Jump to
  var disclosure = new Houdini('[data-houdini-committeeMenu]');

  // Houdini: Events Jump to
  var disclosure = new Houdini('[data-houdini-eventsMenu]');

  // Houdini: Mobile Menu
  var disclosure = new Houdini('[data-houdini-menu]');

  // TabIndex Script
  (function ($) {

    jQuery.extend(jQuery.expr[':'], {
      focusable: function (el, index, selector) {
        var $element = $(el);
        return $element.is(':input:enabled, a[href], area[href], object, [tabindex]') && !$element.is(':hidden');
      }
    });

    function focusOnElement($element) {
      if (!$element.length) {
        return;
      }
      if (!$element.is(':focusable')) {
        // add tabindex to make focusable and remove again
        $element
          .attr('tabindex', -1)
          .on('blur focusout', function () {
            $(this).removeAttr('tabindex');
          });
      }
      $element.focus();
    }

    $(document).ready(function () {
      // if there is a '#' in the URL (someone linking directly to a page with an anchor)
      if (document.location.hash) {
        focusOnElement($(document.location.hash));
      }

      // if the hash has been changed (activation of an in-page link)
      $(window).bind('hashchange', function () {
        var hash = "#" + window
          .location
          .hash
          .replace(/^#/, '');
        focusOnElement($(hash));
      });
    });

  })(jQuery);
</script>
